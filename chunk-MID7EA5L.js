import{A as C,B as Ee,C as Fe,a as fe,c as he,g as ve,h as R,k as x,l as L,m as f,n as V,o as k,p as B,q as D,r as G,s as H,t as be,u as we,v as Se,w as U,x as z,y as _e,z as O}from"./chunk-CC7UXBMZ.js";import{$a as d,C as F,Ea as l,Fa as g,Mb as ce,Nb as M,Pb as ge,U as pe,Ua as p,V as q,Wa as s,Xa as u,Z as ue,Za as t,_a as i,bb as y,da as A,ea as j,jb as r,kb as K,n as E,na as b,nb as T,oa as w}from"./chunk-D4RDOZEH.js";var Z=(()=>{let o=class o{constructor(a){this.http=a}login(a){return this.http.post(`${C.apiUrl}/api/Account/login`,a).pipe(F(m=>E(m)))}register(a){return console.log(a),this.http.post(`${C.apiUrl}/api/Account/register`,a).pipe(F(m=>E(m)))}getAllAddressBook(){return this.http.get(`${C.apiUrl}/api/AddressBook`).pipe(F(a=>E(a)))}getAddressBookById(a){return this.http.get(`${C.apiUrl}/api/AddressBook/${a}`).pipe(F(m=>E(m)))}};o.\u0275fac=function(m){return new(m||o)(ue(fe))},o.\u0275prov=pe({token:o,factory:o.\u0275fac,providedIn:"any"});let n=o;return n})();function Pe(n,o){n&1&&(t(0,"span",13),r(1,"Email is required"),i())}function qe(n,o){n&1&&(t(0,"span",13),r(1,"Password is required"),i())}var J=(()=>{let o=class o{constructor(a,m,e){this.accountservice=a,this.formBuilder=m,this.router=e,this.loginForm=new B({}),this.submitted=!1,this.errorMessages=[]}ngOnInit(){this.initializeForm()}initializeForm(){this.loginForm=this.formBuilder.group({UserName:["",f.required],Password:["",f.required]})}login(){this.submitted=!0,this.errorMessages=[],console.log("Login successful"),this.loginForm.valid&&this.accountservice.login(this.loginForm.value).subscribe({next:a=>{console.log(a),this.router.navigate(["/welcom"])},error:a=>{console.log(a)}})}};o.\u0275fac=function(m){return new(m||o)(g(Z),g(z),g(ve))},o.\u0275cmp=A({type:o,selectors:[["app-login"]],standalone:!0,features:[T],decls:47,vars:7,consts:[[1,"bg-light","py-3","py-md-5"],[1,"container"],[1,"row","justify-content-md-center"],[1,"col-12","col-md-11","col-lg-8","col-xl-7","col-xxl-6"],[1,"bg-white","p-4","p-md-5","rounded","shadow-sm"],[1,"row"],[1,"col-12"],[1,"text-center","mb-5"],["href","#!"],["src","..\\../assets/images/Tamweely-logo.jpg","alt","Logo","width","210","height","100","routerLink","Home"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"row","gy-3","gy-md-4","overflow-hidden"],["for","email",1,"form-label"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],["formControlName","UserName","type","email","name","email","id","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-key"],["d","M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"],["d","M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],["formControlName","Password","type","password","name","password","id","password","value","","required","",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"mt-5","mb-4","border-secondary-subtle"],[1,"d-flex","gap-2","gap-md-4","flex-column","flex-md-row","justify-content-md-center"],["href","#!","routerLink","/account/register",1,"link-secondary","text-decoration-none"],["href","#!",1,"link-secondary","text-decoration-none"]],template:function(m,e){if(m&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"a",8),d(9,"img",9),i()()()(),t(10,"form",10),y("ngSubmit",function(){return e.login()}),t(11,"div",11)(12,"div",6)(13,"label",12),r(14,"Email "),t(15,"span",13),r(16,"*"),i()(),t(17,"div",14)(18,"span",15),b(),t(19,"svg",16),d(20,"path",17),i()(),w(),d(21,"input",18),p(22,Pe,2,0,"span",19),i()(),t(23,"div",6)(24,"label",20),r(25,"Password "),t(26,"span",13),r(27,"*"),i()(),t(28,"div",14)(29,"span",15),b(),t(30,"svg",21),d(31,"path",22)(32,"path",23),i()(),w(),d(33,"input",24),p(34,qe,2,0,"span",19),i()(),t(35,"div",6)(36,"div",25)(37,"button",26),r(38,"Log In"),i()()()()(),t(39,"div",5)(40,"div",6),d(41,"hr",27),t(42,"div",28)(43,"a",29),r(44,"Create new account"),i(),t(45,"a",30),r(46,"Forgot password"),i()()()()()()()()()),m&2){let c,h,v,_;l(10),s("formGroup",e.loginForm),l(11),u("is-invalid",e.submitted&&((c=e.loginForm.get("UserName"))==null?null:c.errors)),l(),s("ngIf",e.submitted&&((h=e.loginForm.get("UserName"))==null?null:h.hasError("required"))),l(11),u("is-invalid",e.submitted&&((v=e.loginForm.get("Password"))==null?null:v.errors)),l(),s("ngIf",e.submitted&&((_=e.loginForm.get("Password"))==null?null:_.hasError("required")))}},dependencies:[x,R,_e,D,L,V,k,U,G,H,ge,M]});let n=o;return n})();function Ae(n,o){n&1&&(t(0,"span",17),r(1,"Name is required"),i())}function je(n,o){n&1&&(t(0,"span",17),r(1,"Name must be at least 3 characters,and max 40"),i())}function Te(n,o){n&1&&(t(0,"span",17),r(1,"Name is required"),i())}function Me(n,o){n&1&&(t(0,"span",17),r(1,"Name must be at least 3 characters,and max 40"),i())}function Re(n,o){if(n&1&&(t(0,"option",57),r(1),i()),n&2){let S=o.$implicit;s("value",S.id),l(),K(S.name)}}function Le(n,o){if(n&1&&(t(0,"option",57),r(1),i()),n&2){let S=o.$implicit;s("value",S.id),l(),K(S.name)}}function Ve(n,o){n&1&&(t(0,"span",17),r(1,"Email is required"),i())}function ke(n,o){n&1&&(t(0,"span",17),r(1,"Invalid email address"),i())}function Be(n,o){n&1&&(t(0,"span",17),r(1,"Phone is required"),i())}function De(n,o){n&1&&(t(0,"span",17),r(1,"Invalid phone number"),i())}function Ge(n,o){n&1&&(t(0,"span",17),r(1,"Address is required"),i())}function He(n,o){n&1&&(t(0,"span",17),r(1,"Address must be at least 3 characters,and max 40"),i())}function Ue(n,o){n&1&&(t(0,"span",17),r(1,"Password is required"),i())}function ze(n,o){n&1&&(t(0,"span",17),r(1,"Password must be at least 6 characters,and max 20"),i())}function Oe(n,o){n&1&&(t(0,"span",17),r(1,"Confirm Password is required"),i())}function $e(n,o){n&1&&(t(0,"span",17),r(1,"Passwords must match"),i())}var W=(()=>{let o=class o{ngOnInit(){this.initializeForm(),this.depts.getAllDept().subscribe(a=>{console.log(a),this.departments=a}),this.jobs.getAllJob().subscribe(a=>{console.log(a),this.jobsarray=a})}constructor(a,m,e,c){this.accountservice=a,this.formBuilder=m,this.depts=e,this.jobs=c,this.registerForm=new B({}),this.submitted=!1,this.errorMassages=[],this.departments=[],this.jobsarray=[],console.log("hello")}initializeForm(){this.registerForm=this.formBuilder.group({UserName:[""],FullName:[""],Email:["",f.required,f.pattern("^[^s@]+@[^s@]+.[^s@]+$")],PhoneNumber:["",f.required,f.pattern("^01[01245][0-9]{8}$")],Password:[""],confirmPassword:["",this.confirmPasswordValidator],Address:[""],deptId:[""],jobId:[""],birthDate:[""],Age:[null],photo:[null]})}confirmPasswordValidator(a){let m=a.parent?.get("password")?.value;return a.value!==m?{passwordsDontMatch:!0}:null}register(){if(this.submitted=!0,this.errorMassages=[],this.registerForm.valid){let a=new FormData,m={userName:this.registerForm.value.UserName,fullName:this.registerForm.value.FullName,email:this.registerForm.value.Email,phoneNumber:this.registerForm.value.PhoneNumber,password:this.registerForm.value.Password,confirmPassword:this.registerForm.value.confirmPassword,address:this.registerForm.value.Address,deptId:this.registerForm.value.deptId,jobId:this.registerForm.value.jobId,birthDate:null,age:20};console.log(m),Object.keys(this.registerForm.value).forEach(e=>{a.append(e,this.registerForm.value[e])}),this.accountservice.register(m).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e)}})}}onFileChange(a){let m=a.target.files[0];this.registerForm.patchValue({photo:m})}};o.\u0275fac=function(m){return new(m||o)(g(Z),g(z),g(Ee),g(Fe))},o.\u0275cmp=A({type:o,selectors:[["app-register"]],standalone:!0,features:[T],decls:137,vars:31,consts:[[1,"p-3","p-md-4","p-xl-5"],[1,"container"],[1,"row"],[1,"col-12","col-md-6","bsb-tpl-bg-platinum"],[1,"d-flex","flex-column","justify-content-between","h-100","p-3","p-md-4","p-xl-5"],[1,"m-0"],["loading","lazy","src","..\\../assets/images/Tamweely-logo.jpg","width","260","height","120","alt","BootstrapBrain Logo",1,"img-fluid","rounded","mx-auto","my-4"],[1,"mb-0"],["href","#!",1,"link-secondary","text-decoration-none"],[1,"col-12","col-md-6","bsb-tpl-bg-lotion"],[1,"col-12"],[1,"mb-5"],[1,"h3"],[1,"fs-6","fw-normal","text-secondary","m-0"],[3,"ngSubmit","formGroup"],[1,"row","gy-3","gy-md-4","overflow-hidden"],["for","Name",1,"form-label"],[1,"text-danger"],["formControlName","UserName","type","text","name","Name","id","userName","placeholder","Name","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","FullName","type","text","name","Name","id","Name","placeholder","Name","required","",1,"form-control"],["for","department",1,"form-label"],["formControlName","deptId","name","department","id","department","required","",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","job",1,"form-label"],["formControlName","jobId","name","job","id","job","required","",1,"form-select"],["for","email",1,"form-label"],["formControlName","Email","type","email","name","email","id","email","placeholder","name@example.com","required","",1,"form-control"],["for","phone",1,"form-label"],["formControlName","PhoneNumber","type","tel","name","phone","id","phone","placeholder","Phone","required","",1,"form-control"],["for","address",1,"form-label"],["formControlName","Address","type","text","name","address","id","address","placeholder","Address","required","",1,"form-control"],["for","password",1,"form-label"],["formControlName","Password","type","password","name","password","id","password","value","","required","",1,"form-control"],["for","confirmPassword",1,"form-label"],["formControlName","confirmPassword","type","password","name","confirmPassword","id","confirmPassword","value","","required","",1,"form-control"],["type","file","name","photo",3,"change"],[1,"form-check"],["type","checkbox","value","","name","iAgree","id","iAgree","required","",1,"form-check-input"],["for","iAgree",1,"form-check-label","text-secondary"],["href","#!",1,"link-primary","text-decoration-none"],[1,"d-grid"],["type","submit",1,"btn","bsb-btn-xl","btn-primary"],[1,"mt-5","mb-4","border-secondary-subtle"],[1,"m-0","text-secondary","text-end"],["routerLink","/account/login",1,"link-primary","text-decoration-none"],[1,"mt-5","mb-4"],[1,"d-flex","gap-3","flex-column","flex-xl-row"],["href","#!",1,"btn","bsb-btn-xl","btn-outline-primary"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"],[1,"ms-2","fs-6"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-facebook"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-twitter"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],[3,"value"]],template:function(m,e){if(m&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),r(6,"Welcome!"),i(),d(7,"img",6),t(8,"p",7),r(9,"Not a member yet? "),t(10,"a",8),r(11,"Register now"),i()()()(),t(12,"div",9)(13,"div",0)(14,"div",2)(15,"div",10)(16,"div",11)(17,"h2",12),r(18,"Registration"),i(),t(19,"h3",13),r(20,"Enter your details to register"),i()()()(),t(21,"form",14),y("ngSubmit",function(){return e.register()}),t(22,"div",15)(23,"div",10)(24,"label",16),r(25,"User Name "),t(26,"span",17),r(27,"*"),i()(),d(28,"input",18),p(29,Ae,2,0,"span",19)(30,je,2,0,"span",19),i(),t(31,"div",10)(32,"label",16),r(33," Name "),t(34,"span",17),r(35,"*"),i()(),d(36,"input",20),p(37,Te,2,0,"span",19)(38,Me,2,0,"span",19),i(),t(39,"div",10)(40,"label",21),r(41,"Department "),t(42,"span",17),r(43,"*"),i()(),t(44,"select",22)(45,"option",23),r(46,"Select Department"),i(),p(47,Re,2,2,"option",24),i()(),t(48,"div",10)(49,"label",25),r(50,"Job Title "),t(51,"span",17),r(52,"*"),i()(),t(53,"select",26)(54,"option",23),r(55,"Select Job Title"),i(),p(56,Le,2,2,"option",24),i()(),t(57,"div",10)(58,"label",27),r(59,"Email "),t(60,"span",17),r(61,"*"),i()(),d(62,"input",28),p(63,Ve,2,0,"span",19)(64,ke,2,0,"span",19),i(),t(65,"div",10)(66,"label",29),r(67,"Phone "),t(68,"span",17),r(69,"*"),i()(),d(70,"input",30),p(71,Be,2,0,"span",19)(72,De,2,0,"span",19),i(),t(73,"div",10)(74,"label",31),r(75,"Address "),t(76,"span",17),r(77,"*"),i()(),d(78,"input",32),p(79,Ge,2,0,"span",19)(80,He,2,0,"span",19),i(),t(81,"div",10)(82,"label",33),r(83,"Password "),t(84,"span",17),r(85,"*"),i()(),d(86,"input",34),p(87,Ue,2,0,"span",19)(88,ze,2,0,"span",19),i(),t(89,"div",10)(90,"label",35),r(91,"Confirm Password "),t(92,"span",17),r(93,"*"),i()(),d(94,"input",36),p(95,Oe,2,0,"span",19)(96,$e,2,0,"span",19),i(),t(97,"div",10)(98,"input",37),y("change",function(h){return e.onFileChange(h)}),i()(),t(99,"div",10)(100,"div",38),d(101,"input",39),t(102,"label",40),r(103," I agree to the "),t(104,"a",41),r(105,"terms and conditions"),i()()()(),t(106,"div",10)(107,"div",42)(108,"button",43),r(109,"Sign up"),i()()()()(),t(110,"div",2)(111,"div",10),d(112,"hr",44),t(113,"p",45),r(114,"Already have an account? "),t(115,"a",46),r(116,"Sign in"),i()()()(),t(117,"div",2)(118,"div",10)(119,"p",47),r(120,"Or sign in with"),i(),t(121,"div",48)(122,"a",49),b(),t(123,"svg",50),d(124,"path",51),i(),w(),t(125,"span",52),r(126,"Google"),i()(),t(127,"a",49),b(),t(128,"svg",53),d(129,"path",54),i(),w(),t(130,"span",52),r(131,"Facebook"),i()(),t(132,"a",49),b(),t(133,"svg",55),d(134,"path",56),i(),w(),t(135,"span",52),r(136,"Twitter"),i()()()()()()()()()()),m&2){let c,h,v,_,Q,N,X,Y,ee,te,ie,re,ne,oe,I,ae,le,P,me,se,de;l(21),s("formGroup",e.registerForm),l(7),u("is",e.submitted&&((c=e.registerForm.get("name"))==null?null:c.errors)),l(),s("ngIf",e.submitted&&((h=e.registerForm.get("name"))==null?null:h.hasError("required"))),l(),s("ngIf",e.submitted&&((v=e.registerForm.get("name"))==null?null:v.hasError("minlength"))||e.submitted&&((v=e.registerForm.get("name"))==null?null:v.hasError("maxlrngth"))),l(6),u("is",e.submitted&&((_=e.registerForm.get("name"))==null?null:_.errors)),l(),s("ngIf",e.submitted&&((Q=e.registerForm.get("FullName"))==null?null:Q.hasError("required"))),l(),s("ngIf",e.submitted&&((N=e.registerForm.get("FullName"))==null?null:N.hasError("minlength"))||e.submitted&&((N=e.registerForm.get("name"))==null?null:N.hasError("maxlrngth"))),l(9),s("ngForOf",e.departments),l(9),s("ngForOf",e.jobsarray),l(6),u("is",e.submitted&&((X=e.registerForm.get("email"))==null?null:X.errors)),l(),s("ngIf",e.submitted&&((Y=e.registerForm.get("email"))==null?null:Y.hasError("required"))),l(),s("ngIf",e.submitted&&((ee=e.registerForm.get("email"))==null?null:ee.hasError("pattern"))),l(6),u("is",e.submitted&&((te=e.registerForm.get("phone"))==null?null:te.errors)),l(),s("ngIf",e.submitted&&((ie=e.registerForm.get("phone"))==null?null:ie.hasError("required"))),l(),s("ngIf",e.submitted&&((re=e.registerForm.get("phone"))==null?null:re.hasError("pattern"))),l(6),u("is",e.submitted&&((ne=e.registerForm.get("address"))==null?null:ne.errors)),l(),s("ngIf",e.submitted&&((oe=e.registerForm.get("address"))==null?null:oe.hasError("required"))),l(),s("ngIf",e.submitted&&((I=e.registerForm.get("address"))==null?null:I.hasError("minlength"))||e.submitted&&((I=e.registerForm.get("address"))==null?null:I.hasError("maxlrngth"))),l(6),u("is",e.submitted&&((ae=e.registerForm.get("password"))==null?null:ae.errors)),l(),s("ngIf",e.submitted&&((le=e.registerForm.get("password"))==null?null:le.hasError("required"))),l(),s("ngIf",e.submitted&&((P=e.registerForm.get("password"))==null?null:P.hasError("minlength"))||e.submitted&&((P=e.registerForm.get("password"))==null?null:P.hasError("maxlrngth"))),l(6),u("is",e.submitted&&((me=e.registerForm.get("confirmPassword"))==null?null:me.errors)),l(),s("ngIf",e.submitted&&((se=e.registerForm.get("confirmPassword"))==null?null:se.hasError("required"))),l(),s("ngIf",e.submitted&&((de=e.registerForm.get("confirmPassword"))==null?null:de.hasError("mustMatch")))}},dependencies:[O,R,D,we,Se,L,be,V,k,U,G,H,ce,M]});let n=o;return n})();var Ze=[{path:"register",component:W},{path:"login",component:J}],xe=(()=>{let o=class o{};o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=j({type:o}),o.\u0275inj=q({imports:[x.forChild(Ze),x]});let n=o;return n})();var ht=(()=>{let o=class o{};o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=j({type:o}),o.\u0275inj=q({imports:[xe,O,J,W,he]});let n=o;return n})();export{ht as AccountModule};
